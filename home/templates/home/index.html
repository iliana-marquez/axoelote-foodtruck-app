{% extends "base.html" %}

{% block content %}
<!-- index.html content starts here -->

    <!-- Booking CTA -->
    <section id="booking-cta" class="container border rounded text-center bg-danger-subtle p-4 pt-0">
      <img src="https://res.cloudinary.com/dj2lk9daf/image/upload/v1757925276/axoelote-logo_pb6fgg.png" 
           alt="Axoelote Logo" 
           class="img-fluid mb-3" 
           style="max-width: 300px;">

      <h2 class="fw-bold mb-3">The one and only ESQUITES food truck in Vienna!</h2>
      <h4 class="fw-bold mb-3">... and you can take me to your event</h4>

      <a href="{% url 'booking_request' %}" class="rounded-pill btn btn-white btn-dark border-danger-subtle btn-lg px-5">
        Make a Booking
      </a>
    </section>

    <!-- Current Schedule -->
    <section id="schedule" class="container my-5">
      <div class="row text-center mb-4">
        <div class="col">
          <h2 class="fw-bold">Where to find me</h2>
        </div>
      </div>

      <div class="row g-4">
        {% for day in schedule_data %}
          <div class="col-12 col-sm-4 col-lg-3">
            <div class="p-3 border rounded h-100 text-center">
              <h5 class="mb-3">
                {{ day.date|date:"l, M d" }}
                {% if day.is_today %}
                  <span class="ms-2">(Today)</span>
                {% endif %}
              </h5>

              <!-- Image display -->
              {% if day.type == 'event' or day.type == 'booking' %}
                {% if day.item.event_photo %}
                  <img src="{{ day.item.event_photo.url }}" alt="Event photo" class="img-fluid mb-3 rounded" style="max-height: 200px;">
                {% else %}
                  <img src="https://res.cloudinary.com/dj2lk9daf/image/upload/v1757924497/axoelote-on-the-move_f2flat.png" alt="Axolotl on the move" class="img-fluid mb-3 rounded" style="max-height: 150px;">
                {% endif %}
              {% elif day.type == 'regular' %}
                <img src="https://res.cloudinary.com/dj2lk9daf/image/upload/v1757924698/naschmarkt-regular-location_xgxldl.png" alt="Naschmarkt location" class="img-fluid mb-3 rounded" style="max-height: 150px;">
              {% elif day.type == 'closed' %}
                <img src="https://res.cloudinary.com/dj2lk9daf/image/upload/v1757924497/closed_djft4q.png" alt="Naschmarkt location" class="img-fluid mb-3 rounded" style="max-height: 150px;">
              {% endif %}

              {% if day.type == 'event' and day.item.event_type == 'open' %}
                <p class="fw-semibold">{{ day.item.event_title }}</p>
                <p class="mb-1">{{ day.item.street_address }}</p>
                <p>{{ day.item.town_or_city }}</p>

              {% elif day.type == 'regular' %}
                <p class="fw-semibold">{{ day.item.venue_name }}</p>
                <p class="mb-1">{{ day.item.opening_time }} - {{ day.item.closing_time }}</p>
                <p>{{ day.item.street_address }}, {{ day.item.town_or_city }}</p>

              {% elif day.type == 'closed' %}
                <p><em>Closed</em></p>

              {% else %}
                <p><em>Private Event</em></p>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    </section>

    <!-- Menu Section -->
    <section id="menu" class="container mt-5 text-center">
      <img src="https://res.cloudinary.com/dj2lk9daf/image/upload/v1757925130/menu_yppadt.png" 
           alt="Menu background" 
           class="img-fluid rounded">
    </section>

<!-- index.html content ends here -->
{% endblock %}